{"version":3,"file":"index.es.js","sources":["../src/utils.js","../node_modules/style-inject/dist/style-inject.es.js","../src/LiqPayPay.js","../src/LiqPaySubscribe.js"],"sourcesContent":["/* eslint-disable camelcase */\nexport function utf8_to_b64(str) {\n  return window.btoa(unescape(encodeURIComponent(str)))\n}\n\nexport function b64_to_utf8(str) {\n  return decodeURIComponent(escape(window.atob(str)))\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport crypto from 'crypto-js'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n// eslint-disable-next-line camelcase\nimport { utf8_to_b64 } from './utils'\n\nimport styleFile from './styles.css'\n\nconst LiqPayPay = ({\n  publicKey,\n  privateKey,\n  amount,\n  currency,\n  description = 'test',\n  orderId = Math.floor(1 + Math.random() * 900000000),\n  title = 'Payment',\n  style,\n  disabled,\n  extra,\n  ...props\n}) => {\n  const jsonString = {\n    public_key: publicKey,\n    version: '3',\n    action: 'pay',\n    amount: amount,\n    currency: currency,\n    description: description,\n    order_id: orderId,\n    ...props\n  }\n\n  const data = utf8_to_b64(JSON.stringify(jsonString))\n  const signString = privateKey + data + privateKey\n  const sha1 = crypto.createHash('sha1')\n  sha1.update(signString)\n  const signature = sha1.digest('base64')\n\n  return (\n    <form\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\n      acceptCharset='utf-8'\n      style={{ ...style }}\n    >\n      <input\n        type='hidden' name='data' value={data}\n      />\n      <input type='hidden' name='signature' value={signature} />\n      {extra || (\n        <button className={classNames(styleFile.buttonSubmit)} disabled={disabled}>\n          <img\n            src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\n          />\n          <span>{title} {amount} {currency}</span>\n        </button>\n      )}\n    </form>\n  )\n}\n\nLiqPayPay.propTypes = {\n  publicKey: PropTypes.string.isRequired,\n  privateKey: PropTypes.string.isRequired,\n  currency: PropTypes.string.isRequired,\n  amount: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  orderId: PropTypes.any.isRequired,\n  title: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  extra: PropTypes.object\n}\n\nexport default LiqPayPay\n","import React from 'react'\nimport crypto from 'crypto-js'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n// eslint-disable-next-line camelcase\nimport { utf8_to_b64 } from './utils'\n\nimport styleFile from './styles.css'\n\nconst LiqPaySubscribe = ({\n  publicKey,\n  privateKey,\n  amount,\n  subscribePeriodicity = 'month',\n  currency,\n  description = 'test',\n  orderId = Math.floor(1 + Math.random() * 900000000),\n  title = 'Subscribe',\n  style,\n  disabled,\n  extra,\n  ...props\n}) => {\n  const jsonString = {\n    public_key: publicKey,\n    version: '3',\n    action: 'subscribe',\n    subscribe_date_start: Date.now(),\n    subscribe_periodicity: subscribePeriodicity,\n    amount: amount,\n    currency: currency,\n    description: description,\n    order_id: orderId,\n    ...props\n  }\n\n  const data = utf8_to_b64(JSON.stringify(jsonString))\n  const signString = privateKey + data + privateKey\n\n  const sha1 = crypto.createHash('sha1')\n  sha1.update(signString)\n  const signature = sha1.digest('base64')\n\n  return (\n    <form\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\n      acceptCharset='utf-8'\n      style={{ ...style }}\n    >\n      <input\n        type='hidden' name='data' value={data}\n      />\n      <input type='hidden' name='signature' value={signature} />\n      {extra || (\n        <button className={classNames(styleFile.buttonSubmit)} disabled={disabled}>\n          <img\n            src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\n          />\n          <span>{title} {amount} {currency}</span>\n        </button>\n      )}\n    </form>\n  )\n}\n\nLiqPaySubscribe.propTypes = {\n  publicKey: PropTypes.string.isRequired,\n  privateKey: PropTypes.string.isRequired,\n  currency: PropTypes.string.isRequired,\n  amount: PropTypes.string.isRequired,\n  subscribePeriodicity: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  orderId: PropTypes.any.isRequired,\n  title: PropTypes.string,\n  style: PropTypes.object,\n  disabled: PropTypes.bool,\n  extra: PropTypes.object\n}\n\nexport default LiqPaySubscribe\n"],"names":["utf8_to_b64","str","window","btoa","unescape","encodeURIComponent","LiqPayPay","publicKey","privateKey","amount","currency","description","orderId","Math","floor","random","title","style","disabled","extra","props","_excluded","jsonString","_objectSpread","public_key","version","action","order_id","data","JSON","stringify","signString","sha1","crypto","createHash","update","signature","digest","classNames","styleFile","buttonSubmit","propTypes","PropTypes","string","isRequired","any","object","bool","LiqPaySubscribe","subscribePeriodicity","subscribe_date_start","Date","now","subscribe_periodicity"],"mappings":"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"}